(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,n){t.exports={wrapper:"Filter_wrapper__qedQG",label:"Filter_label__poGW2",input:"Filter_input__wj8uF"}},22:function(t,e,n){t.exports={section:"Container_section__2TkT8",heading:"Container_heading__18hJQ"}},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n.n(r),u=n(11),i=n.n(u),s=n(6),b=n(15),l=n(2),j=n(8),f=n(3),d=n(4),h=Object(l.b)("contacts/fetchContactsRequest"),m=Object(l.b)("contacts/fetchContactsSuccess"),O=Object(l.b)("contacts/fetchContactsError"),p=Object(l.b)("contacts/addContactRequest"),_=Object(l.b)("contacts/addContactSuccess"),v=Object(l.b)("contacts/addContactError"),x=Object(l.b)("contacts/deleteContactRequest"),C=Object(l.b)("contacts/deleteContactSuccess"),g=Object(l.b)("contacts/deleteContactError"),y=Object(l.b)("contacts/changeFilter"),N=Object(l.c)([],(c={},Object(f.a)(c,m,(function(t,e){return e.payload})),Object(f.a)(c,_,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(f.a)(c,C,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),F=Object(l.c)(!1,(a={},Object(f.a)(a,h,(function(){return!0})),Object(f.a)(a,m,(function(){return!1})),Object(f.a)(a,O,(function(){return!1})),Object(f.a)(a,p,(function(){return!0})),Object(f.a)(a,_,(function(){return!1})),Object(f.a)(a,v,(function(){return!1})),Object(f.a)(a,x,(function(){return!0})),Object(f.a)(a,C,(function(){return!1})),Object(f.a)(a,g,(function(){return!1})),a)),w=Object(l.c)("",Object(f.a)({},y,(function(t,e){return e.payload}))),k=Object(l.c)(null,{}),S=Object(d.c)({contacts:N,filter:w,loading:F,error:k}),L=Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),P=Object(l.a)({reducer:{contacts:S},middleware:L,devTools:!1}),E=n(13),I=n(14),R=n(17),q=n(16),A=n(12),D=function(t){return t.contacts.loading},T=function(t){return t.contacts.contacts},J=function(t){return t.contacts.filter},M=Object(A.a)([T,J],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),Q=n(10),U=n.n(Q);U.a.defaults.baseURL="http://localhost:3000";var B=n(7),G=n.n(B),z=n(1),W=function(t){Object(R.a)(n,t);var e=Object(q.a)(n);function n(){var t;Object(E.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,r=t.props,o=r.contacts,u=r.onSubmit;if(o.some((function(t){return t.name.toLowerCase()===c.toLowerCase()})))return alert("".concat(c," Already exists")),void t.reset();!function(t){return!/^\d[\d\(\)\ -]{4,14}\d$/.test(t)}(a)?(u(t.state),t.reset()):alert("Enter the correct number phone!")},t.reset=function(){t.setState({name:"",number:""})},t}return Object(I.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(z.jsxs)("form",{className:G.a.form,onSubmit:this.handleSubmit,children:[Object(z.jsx)("label",{className:G.a.label,htmlFor:"name",children:"Name"}),Object(z.jsx)("input",{id:"name",type:"text",onChange:this.handleChange,className:G.a.input,name:"name",value:e,placeholder:"Name",autoComplete:"off",autoFocus:!0}),Object(z.jsx)("label",{className:G.a.label,htmlFor:"number",children:"Number"}),Object(z.jsx)("input",{id:"number",type:"text",onChange:this.handleChange,className:G.a.input,name:"number",value:n,placeholder:"Phone number",autoComplete:"off"}),Object(z.jsx)("button",{type:"submit",className:G.a.btn,children:"Add contact"})]})}}]),n}(r.Component),Z=Object(s.b)((function(t){return{contacts:T(t)}}),(function(t){return{onSubmit:function(e){var n=e.name,c=e.number;return t(function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(p()),U.a.post("/contacts",c).then((function(e){var n=e.data;return t(_(n))})).catch((function(e){return t(v(e))}))}}({name:n,number:c}))}}}))(W),$=n(18),H=n.n($),K=function(t){var e=t.filter,n=t.onChange;return Object(z.jsx)("div",{className:H.a.wrapper,children:Object(z.jsxs)("label",{className:H.a.label,children:["Find by Name",Object(z.jsx)("input",{className:H.a.input,type:"text",value:e,onChange:n})]})})};K.defaultProps={filter:""};var V=Object(s.b)((function(t){return{filter:J(t)}}),(function(t){return{onChange:function(e){return t(y(e.target.value))}}}))(K),X=n(33),Y=n(9),tt=n.n(Y),et=Object(s.b)(null,(function(t){return{onDelete:function(e){return t((n=e,function(t){t(x()),U.a.delete("/contacts/".concat(n)).then((function(){return t(C(n))})).catch((function(e){return t(g(e))}))}));var n}}}))((function(t){var e=t.name,n=t.number,c=t.id,a=t.onDelete;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("span",{children:[e," : ",n]}),Object(z.jsx)("button",{type:"button",className:tt.a.close,onClick:function(){return a(c)},children:"+"})]})})),nt=Object(s.b)((function(t){return{contacts:M(t)}}))((function(t){var e=t.contacts;return Object(z.jsx)(z.Fragment,{children:e&&Object(z.jsx)("ul",{className:tt.a.list,children:e.map((function(t){return Object(z.jsx)("li",{className:tt.a.item,children:Object(z.jsx)(et,Object(X.a)({},t))},t.id)}))})})})),ct=n(22),at=n.n(ct),rt=function(t){var e=t.title,n=t.children;return Object(z.jsxs)("section",{className:at.a.section,children:[e&&Object(z.jsx)("h2",{className:at.a.heading,children:e}),n]})};rt.defaultProps={title:""};var ot=rt,ut=function(t){Object(R.a)(n,t);var e=Object(q.a)(n);function n(){return Object(E.a)(this,n),e.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ot,{title:"Phonebook",children:Object(z.jsx)(Z,{})}),Object(z.jsxs)(ot,{title:"Contacts",children:[Object(z.jsx)(V,{}),this.props.isLoadingContacts&&Object(z.jsx)("h2",{children:" Loading contacts..."}),Object(z.jsx)(nt,{})]})]})}}]),n}(r.Component),it=Object(s.b)((function(t){return{isLoadingContacts:D(t)}}),(function(t){return{fetchContacts:function(){return t((function(t){t(h()),U.a.get("/contacts").then((function(e){var n=e.data;return t(m(n))})).catch((function(e){return t(O(e))}))}))}}}))(ut);n(65);i.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(s.a,{store:P,children:Object(z.jsx)(it,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"InputForm_form__3UZBC",label:"InputForm_label__1cwRf",input:"InputForm_input__241QO",btn:"InputForm_btn__24L9j"}},9:function(t,e,n){t.exports={list:"Phonebook_list__13_Mt",item:"Phonebook_item__1SteO",close:"Phonebook_close__20U_2"}}},[[66,1,2]]]);
//# sourceMappingURL=main.ff187da2.chunk.js.map